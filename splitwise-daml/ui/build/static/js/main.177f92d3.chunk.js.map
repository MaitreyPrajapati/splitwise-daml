{"version":3,"sources":["../daml.js/splitwise-daml-0.1.0/lib/index.js","../daml.js/splitwise-daml-0.1.0/lib/User/index.js","../daml.js/splitwise-daml-0.1.0/lib/User/module.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/index.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/index.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/Internal/index.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/Internal/Template/index.js","../daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662/lib/DA/Internal/Template/module.js","config.ts","Credentials.ts","components/LoginScreen.tsx","components/UserList.tsx","components/PartyListEdit.tsx","components/TransactionsList.tsx","components/TransactionBox.tsx","components/MainView.tsx","components/MainScreen.tsx","components/App.tsx","index.tsx"],"names":["Object","defineProperty","exports","value","User","require","packageId","m","p","hasOwnProperty","__export","jtv","damlTypes","pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662","Transaction","templateId","keyDecoder","lazyMemo","constant","undefined","keyEncode","decoder","object","lender","Party","borrower","amount","Numeric","encode","__typed__","Archive","template","choiceName","argumentDecoder","DA","Internal","Template","argumentEncode","resultDecoder","Unit","resultEncode","registerTemplate","MakeTransaction","Follow","userToFollow","username","following","List","ContractId","DeploymentMode","deploymentMode","window","location","hostname","endsWith","PROD_DABL","PROD_OTHER","ledgerId","split","process","httpBaseUrl","computeCredentials","party","token","payload","computeToken","LoginScreen","onLogin","React","useState","setUsername","login","useCallback","credentials","a","ledger","Ledger","fetchByKey","user","create","alert","handleLogin","event","preventDefault","useEffect","url","URL","toString","searchParams","get","Error","search","history","replaceState","state","Grid","textAlign","style","height","verticalAlign","Column","maxWidth","Header","as","size","color","Content","Image","href","target","src","alt","spaced","Form","className","Segment","Input","fluid","icon","iconPosition","placeholder","onChange","e","currentTarget","Button","primary","onClick","assign","UserList","users","onFollow","divided","relaxed","sort","x","y","localeCompare","map","Item","Icon","name","floated","link","PartyListEdit","parties","onAddParty","newParty","setNewParty","isSubmitting","setIsSubmitting","addParty","success","onSubmit","readOnly","loading","type","TransactionList","debt","allTransactions","useStreamQuery","useParty","myUser","useStreamFetchByKeys","contracts","netValue","transaction","parseFloat","ListItem","contractId","MessageEdit","followers","setBorrower","setAmount","useLedger","submitMessage","exerciseByKey","JSON","stringify","Dropdown","selection","options","follower","key","text","textContent","disabled","content","MainView","allUsers","useStreamQueries","useMemo","filter","follow","Container","centered","columns","Row","stretched","padding","Subheader","Divider","TransactionBox","MainScreen","onLogout","Menu","borderless","position","active","App","setCredentials","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.177f92d3.chunk.js","sourcesContent":["\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar User = require('./User');\nexports.User = User;\nexports.packageId = '176e94e6dc181f08516d3fa9a9052a345ef6315fbd4524b494acf85bf107caf6';\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require('./module'));\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable-next-line no-unused-vars */\nvar jtv = require('@mojotech/json-type-validation');\n/* eslint-disable-next-line no-unused-vars */\nvar damlTypes = require('@daml/types');\n/* eslint-disable-next-line no-unused-vars */\nvar damlLedger = require('@daml/ledger');\n\nvar pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662 = require('@daml.js/d14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662');\n\n\nexports.Transaction = {\n  templateId: '176e94e6dc181f08516d3fa9a9052a345ef6315fbd4524b494acf85bf107caf6:User:Transaction',\n  keyDecoder: damlTypes.lazyMemo(function () { return jtv.constant(undefined); }),\n  keyEncode: function () { throw 'EncodeError'; },\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({lender: damlTypes.Party.decoder, borrower: damlTypes.Party.decoder, amount: damlTypes.Numeric(2).decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    lender: damlTypes.Party.encode(__typed__.lender),\n    borrower: damlTypes.Party.encode(__typed__.borrower),\n    amount: damlTypes.Numeric(2).encode(__typed__.amount),\n  };\n}\n,\n  Archive: {\n    template: function () { return exports.Transaction; },\n    choiceName: 'Archive',\n    argumentDecoder: damlTypes.lazyMemo(function () { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.decoder; }),\n    argumentEncode: function (__typed__) { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.Unit.decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.Unit.encode(__typed__); },\n  },\n};\n\n\ndamlTypes.registerTemplate(exports.Transaction);\n\n\n\nexports.MakeTransaction = {\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({lender: damlTypes.Party.decoder, amount: damlTypes.Numeric(2).decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    lender: damlTypes.Party.encode(__typed__.lender),\n    amount: damlTypes.Numeric(2).encode(__typed__.amount),\n  };\n}\n,\n};\n\n\n\nexports.Follow = {\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({userToFollow: damlTypes.Party.decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    userToFollow: damlTypes.Party.encode(__typed__.userToFollow),\n  };\n}\n,\n};\n\n\n\nexports.User = {\n  templateId: '176e94e6dc181f08516d3fa9a9052a345ef6315fbd4524b494acf85bf107caf6:User:User',\n  keyDecoder: damlTypes.lazyMemo(function () { return damlTypes.lazyMemo(function () { return damlTypes.Party.decoder; }); }),\n  keyEncode: function (__typed__) { return damlTypes.Party.encode(__typed__); },\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({username: damlTypes.Party.decoder, following: damlTypes.List(damlTypes.Party).decoder, }); }),\n  encode: function (__typed__) {\n  return {\n    username: damlTypes.Party.encode(__typed__.username),\n    following: damlTypes.List(damlTypes.Party).encode(__typed__.following),\n  };\n}\n,\n  Archive: {\n    template: function () { return exports.User; },\n    choiceName: 'Archive',\n    argumentDecoder: damlTypes.lazyMemo(function () { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.decoder; }),\n    argumentEncode: function (__typed__) { return pkgd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662.DA.Internal.Template.Archive.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.Unit.decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.Unit.encode(__typed__); },\n  },\n  Follow: {\n    template: function () { return exports.User; },\n    choiceName: 'Follow',\n    argumentDecoder: damlTypes.lazyMemo(function () { return exports.Follow.decoder; }),\n    argumentEncode: function (__typed__) { return exports.Follow.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.ContractId(exports.User).decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.ContractId(exports.User).encode(__typed__); },\n  },\n  MakeTransaction: {\n    template: function () { return exports.User; },\n    choiceName: 'MakeTransaction',\n    argumentDecoder: damlTypes.lazyMemo(function () { return exports.MakeTransaction.decoder; }),\n    argumentEncode: function (__typed__) { return exports.MakeTransaction.encode(__typed__); },\n    resultDecoder: damlTypes.lazyMemo(function () { return damlTypes.ContractId(exports.Transaction).decoder; }),\n    resultEncode: function (__typed__) { return damlTypes.ContractId(exports.Transaction).encode(__typed__); },\n  },\n};\n\n\ndamlTypes.registerTemplate(exports.User);\n\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar DA = require('./DA');\nexports.DA = DA;\nexports.packageId = 'd14e08374fc7197d6a0de468c968ae8ba3aadbf9315476fd39071831f5923662';\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Internal = require('./Internal');\nexports.Internal = Internal;\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Template = require('./Template');\nexports.Template = Template;\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require('./module'));\n","\"use strict\";\n/* eslint-disable-next-line no-unused-vars */\nfunction __export(m) {\n/* eslint-disable-next-line no-prototype-builtins */\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* eslint-disable-next-line no-unused-vars */\nvar jtv = require('@mojotech/json-type-validation');\n/* eslint-disable-next-line no-unused-vars */\nvar damlTypes = require('@daml/types');\n/* eslint-disable-next-line no-unused-vars */\nvar damlLedger = require('@daml/ledger');\n\n\nexports.Archive = {\n  decoder: damlTypes.lazyMemo(function () { return jtv.object({}); }),\n  encode: function (__typed__) {\n  return {\n  };\n}\n,\n};\n\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nexport enum DeploymentMode {\n  DEV,\n  PROD_DABL,\n  PROD_OTHER,\n}\n\nexport const deploymentMode: DeploymentMode =\n  process.env.NODE_ENV === 'development'\n  ? DeploymentMode.DEV\n  : window.location.hostname.endsWith('.projectdabl.com')\n  ? DeploymentMode.PROD_DABL\n  : DeploymentMode.PROD_OTHER;\n\n// Decide the ledger ID based on the deployment mode first,\n// then an environment variable, falling back on the sandbox ledger ID.\nexport const ledgerId: string =\n  deploymentMode === DeploymentMode.PROD_DABL\n  ? window.location.hostname.split('.')[0]\n  : process.env.REACT_APP_LEDGER_ID\n  ?? 'splitwise-daml-sandbox';\n\nexport const httpBaseUrl =\n  deploymentMode === DeploymentMode.PROD_DABL\n  ? `https://api.projectdabl.com/data/${ledgerId}/`\n  : undefined;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport { encode } from 'jwt-simple';\nimport { ledgerId } from './config';\n\nexport const APPLICATION_ID: string = 'splitwise-daml';\n\n// NOTE: This is for testing purposes only.\n// To handle authentication properly,\n// see https://docs.daml.com/app-dev/authentication.html.\nexport const SECRET_KEY: string = 'secret';\n\nexport type Credentials = {\n  party: string;\n  token: string;\n  ledgerId: string;\n}\n\nfunction computeToken(party: string): string {\n  const payload = {\n    \"https://daml.com/ledger-api\": {\n      \"ledgerId\": ledgerId,\n      \"applicationId\": APPLICATION_ID,\n      \"actAs\": [party]\n    }\n  };\n  return encode(payload, SECRET_KEY, 'HS256');\n}\n\nexport const computeCredentials = (party: string): Credentials => {\n  const token = computeToken(party);\n  return {party, token, ledgerId};\n}\n\nexport default Credentials;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useCallback } from 'react'\nimport { Button, Form, Grid, Header, Image, Segment } from 'semantic-ui-react'\nimport Credentials, { computeCredentials } from '../Credentials';\nimport Ledger from '@daml/ledger';\nimport { User } from '@daml.js/splitwise-daml';\nimport { DeploymentMode, deploymentMode, ledgerId, httpBaseUrl} from '../config';\nimport { useEffect } from 'react';\n\ntype Props = {\n  onLogin: (credentials: Credentials) => void;\n}\n\n/**\n * React component for the login screen of the `App`.\n */\nconst LoginScreen: React.FC<Props> = ({onLogin}) => {\n  const [username, setUsername] = React.useState('');\n\n  const login = useCallback(async (credentials: Credentials) => {\n    try {\n      const ledger = new Ledger({token: credentials.token, httpBaseUrl});\n      let userContract = await ledger.fetchByKey(User.User, credentials.party);\n      if (userContract === null) {\n        const user = {username: credentials.party, following: []};\n        userContract = await ledger.create(User.User, user);\n      }\n      onLogin(credentials);\n    } catch(error) {\n      alert(`Unknown error:\\n${error}`);\n    }\n  }, [onLogin]);\n\n  const handleLogin = async (event: React.FormEvent) => {\n    event.preventDefault();\n    const credentials = computeCredentials(username);\n    await login(credentials);\n  }\n\n  const handleDablLogin = () => {\n    window.location.assign(`https://login.projectdabl.com/auth/login?ledgerId=${ledgerId}`);\n  }\n\n  useEffect(() => {\n    const url = new URL(window.location.toString());\n    const token = url.searchParams.get('token');\n    if (token === null) {\n      return;\n    }\n    const party = url.searchParams.get('party');\n    if (party === null) {\n      throw Error(\"When 'token' is passed via URL, 'party' must be passed too.\");\n    }\n    url.search = '';\n    window.history.replaceState(window.history.state, '', url.toString());\n    login({token, party, ledgerId});\n  }, [login]);\n\n  return (\n    <Grid textAlign='center' style={{ height: '100vh' }} verticalAlign='middle'>\n      <Grid.Column style={{ maxWidth: 450 }}>\n        <Header as='h1' textAlign='center' size='huge' style={{color: '#223668'}}>\n          <Header.Content>\n            Create\n            <Image\n              as='a'\n              href='https://www.daml.com/'\n              target='_blank'\n              src='/daml.svg'\n              alt='Daml Logo'\n              spaced\n              size='small'\n              verticalAlign='middle'\n            />\n            App\n          </Header.Content>\n        </Header>\n        <Form size='large' className='test-select-login-screen'>\n          <Segment>\n            {deploymentMode !== DeploymentMode.PROD_DABL\n            ? <>\n                {/* FORM_BEGIN */}\n                <Form.Input\n                  fluid\n                  icon='user'\n                  iconPosition='left'\n                  placeholder='Username'\n                  value={username}\n                  className='test-select-username-field'\n                  onChange={e => setUsername(e.currentTarget.value)}\n                />\n                <Button\n                  primary\n                  fluid\n                  className='test-select-login-button'\n                  onClick={handleLogin}>\n                  Log in\n                </Button>\n                {/* FORM_END */}\n              </>\n            : <Button primary fluid onClick={handleDablLogin}>\n                Log in with DABL\n              </Button>\n            }\n          </Segment>\n        </Form>\n      </Grid.Column>\n    </Grid>\n  );\n};\n\nexport default LoginScreen;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Icon, List } from 'semantic-ui-react'\nimport { Party } from '@daml/types';\nimport { User } from '@daml.js/splitwise-daml';\n\ntype Props = {\n  users: User.User[];\n  onFollow: (userToFollow: Party) => void;\n}\n\n/**\n * React component to display a list of `User`s.\n * Every party in the list can be added as a friend.\n */\nconst UserList: React.FC<Props> = ({users, onFollow}) => {\n  return (\n    <List divided relaxed>\n      {[...users].sort((x, y) => x.username.localeCompare(y.username)).map(user =>\n        <List.Item key={user.username}>\n          <List.Icon name='user' />\n          <List.Content>\n            <List.Content floated='right'>\n              <Icon\n                name='add user'\n                link\n                className='test-select-add-user-icon'\n                onClick={() => onFollow(user.username)} />\n            </List.Content>\n            <List.Header className='test-select-user-in-network'>{user.username}</List.Header>\n          </List.Content>\n          <List.List>\n            {[...user.following].sort((x, y) => x.localeCompare(y)).map(userToFollow =>\n              <List.Item key={userToFollow}>\n                <List.Content floated='right'>\n                  <Icon\n                    name='add user'\n                    link\n                    className='test-select-add-user-following-icon'\n                    onClick={() => onFollow(userToFollow)} />\n                </List.Content>\n                <List.Icon name='user outline' />\n                <List.Content>\n                  <List.Header>{userToFollow}</List.Header>\n                </List.Content>\n              </List.Item>\n            )}\n          </List.List>\n        </List.Item>\n      )}\n    </List>\n  );\n};\n\nexport default UserList;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Form, List, Button } from 'semantic-ui-react';\nimport { Party } from '@daml/types';\n\ntype Props = {\n  parties: Party[];\n  onAddParty: (party: Party) => Promise<boolean>;\n}\n\n/**\n * React component to edit a list of `Party`s.\n */\nconst PartyListEdit: React.FC<Props> = ({parties, onAddParty}) => {\n  const [newParty, setNewParty] = React.useState('');\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\n\n  const addParty = async (event?: React.FormEvent) => {\n    if (event) {\n      event.preventDefault();\n    }\n    setIsSubmitting(true);\n    const success = await onAddParty(newParty);\n    setIsSubmitting(false);\n    if (success) {\n      setNewParty('');\n    }\n  }\n\n  return (\n    <List relaxed>\n      {[...parties].sort((x, y) => x.localeCompare(y)).map((party) =>\n        <List.Item\n          key={party}\n        >\n          <List.Icon name='user outline' />\n          <List.Content>\n            <List.Header className='test-select-following'>\n              {party}\n            </List.Header>\n          </List.Content>\n        </List.Item>\n      )}\n      <br />\n      <Form onSubmit={addParty}>\n        <Form.Input\n          fluid\n          readOnly={isSubmitting}\n          loading={isSubmitting}\n          className='test-select-follow-input'\n          placeholder=\"Username to follow\"\n          value={newParty}\n          onChange={(event) => setNewParty(event.currentTarget.value)}\n        />\n        <Button\n          type='submit'\n          className='test-select-follow-button'>\n          Follow\n        </Button>\n      </Form>\n    </List>\n  );\n};\n\nexport default PartyListEdit;\n","import React from \"react\";\nimport { List, ListItem } from \"semantic-ui-react\";\nimport { User } from \"@daml.js/splitwise-daml\";\nimport { useStreamQuery, useStreamFetchByKeys, useParty } from \"@daml/react\";\n\n/**\n * React component displaying the list of messages for the current user.\n */\n\nconst TransactionList: React.FC = () => {\n  const allTransactions = useStreamQuery(User.Transaction);\n  const username = useParty();\n  const myUserResult = useStreamFetchByKeys(User.User, () => [username], [\n    username,\n  ]);\n  const myUser = myUserResult.contracts[0]?.payload;\n  let netValue = 0;\n\n  const debtStatus = (debt: Number) => {\n    return debt < 0 ? \"red\" : \"green\";\n  };\n\n  return (\n    <List relaxed>\n      {allTransactions.contracts.map((transaction) => {\n        const { lender, borrower, amount } = transaction.payload;\n        netValue +=\n          myUser && lender === myUser.username\n            ? parseFloat(amount)\n            : -parseFloat(amount);\n        return (\n          <ListItem\n            className=\"test-select-message-item\"\n            key={transaction.contractId}\n            style={{\n              color: myUser && myUser.username === lender ? \"green\" : \"red\",\n            }}\n          >\n            <strong>\n              {lender} &rarr; {borrower}:\n            </strong>{\" \"}\n            {amount}\n          </ListItem>\n        );\n      })}\n      <h3 style={{ color: debtStatus(netValue) }}>\n        You {netValue <= 0 ? \"owe\" : \"are owed\"} $ {netValue}.\n      </h3>\n    </List>\n  );\n};\n\nexport default TransactionList;\n","import React from \"react\";\nimport { Form, Button } from \"semantic-ui-react\";\nimport { Party } from \"@daml/types\";\nimport { User } from \"@daml.js/splitwise-daml\";\nimport { useParty, useLedger } from \"@daml/react\";\n\ntype Props = {\n  followers: Party[];\n};\n\n/**\n * React component to make transaction with other user\n */\nconst MessageEdit: React.FC<Props> = ({ followers }) => {\n  const lender = useParty();\n  const [borrower, setBorrower] = React.useState<string | undefined>();\n  const [amount, setAmount] = React.useState(\"\");\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\n  const ledger = useLedger();\n\n  const submitMessage = async (event: React.FormEvent) => {\n    try {\n      event.preventDefault();\n      if (borrower === undefined) {\n        return;\n      }\n      setIsSubmitting(true);\n      await ledger.exerciseByKey(User.User.MakeTransaction, borrower, {\n        lender,\n        amount,\n      });\n      setAmount(\"\");\n    } catch (error) {\n      alert(`Error sending message:\\n${JSON.stringify(error)}`);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Form onSubmit={submitMessage}>\n      <Form.Dropdown\n        selection\n        className=\"test-select-message-receiver\"\n        placeholder=\"Select your friend\"\n        options={followers.map((follower) => ({\n          key: follower,\n          text: follower,\n          value: follower,\n        }))}\n        value={borrower}\n        onChange={(event) =>\n          setBorrower(event.currentTarget.textContent ?? undefined)\n        }\n      />\n      <Form.Input\n        className=\"test-select-message-content\"\n        placeholder=\"Enter an amount\"\n        value={amount}\n        onChange={(event) => setAmount(event.currentTarget.value)}\n      />\n      <Button\n        fluid\n        className=\"test-select-message-send-button\"\n        type=\"submit\"\n        disabled={isSubmitting || borrower === undefined || amount === \"\"}\n        loading={isSubmitting}\n        content=\"Send\"\n      />\n    </Form>\n  );\n};\n\nexport default MessageEdit;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React, { useMemo } from \"react\";\nimport {\n  Container,\n  Grid,\n  Header,\n  Icon,\n  Segment,\n  Divider,\n} from \"semantic-ui-react\";\nimport { Party } from \"@daml/types\";\nimport { User } from \"@daml.js/splitwise-daml\";\nimport {\n  useParty,\n  useLedger,\n  useStreamFetchByKeys,\n  useStreamQueries,\n} from \"@daml/react\";\nimport UserList from \"./UserList\";\nimport PartyListEdit from \"./PartyListEdit\";\nimport TransactionList from \"./TransactionsList\";\nimport TransactionBox from \"./TransactionBox\";\n\n// USERS_BEGIN\nconst MainView: React.FC = () => {\n  const username = useParty();\n  const myUserResult = useStreamFetchByKeys(User.User, () => [username], [\n    username,\n  ]);\n  const myUser = myUserResult.contracts[0]?.payload;\n  const allUsers = useStreamQueries(User.User).contracts;\n  // USERS_END\n\n  // Sorted list of users that are following the current user\n  const followers = useMemo(\n    () =>\n      allUsers\n        .map((user) => user.payload)\n        .filter((user) => user.username !== username)\n        .sort((x, y) => x.username.localeCompare(y.username)),\n    [allUsers, username]\n  );\n\n  // FOLLOW_BEGIN\n  const ledger = useLedger();\n\n  const follow = async (userToFollow: Party): Promise<boolean> => {\n    try {\n      await ledger.exerciseByKey(User.User.Follow, username, { userToFollow });\n      return true;\n    } catch (error) {\n      alert(`Unknown error:\\n${error}`);\n      return false;\n    }\n  };\n  // FOLLOW_END\n\n  return (\n    <Container>\n      <Grid centered columns={3}>\n        <Grid.Row stretched>\n          <Grid.Column>\n            <Header\n              as=\"h1\"\n              size=\"huge\"\n              color=\"blue\"\n              textAlign=\"center\"\n              style={{ padding: \"1ex 0em 0ex 0em\" }}\n            >\n              {myUser ? `Welcome, ${myUser.username}!` : \"Loading...\"}\n            </Header>\n          </Grid.Column>\n        </Grid.Row>\n        <Grid.Row stretched>\n          <Grid.Column>\n            <Segment>\n              <Header as=\"h2\">\n                <Icon name=\"user\" />\n                <Header.Content>\n                  {myUser?.username ?? \"Loading...\"}\n                  <Header.Subheader>Users I'm following</Header.Subheader>\n                </Header.Content>\n              </Header>\n              <Divider />\n              <PartyListEdit\n                parties={myUser?.following ?? []}\n                onAddParty={follow}\n              />\n            </Segment>\n          </Grid.Column>\n          <Grid.Column>\n            <Segment>\n              <Header as=\"h2\">\n                <Icon name=\"globe\" />\n                <Header.Content>\n                  The Network\n                  <Header.Subheader>\n                    My followers and users they are following\n                  </Header.Subheader>\n                </Header.Content>\n              </Header>\n              <Divider />\n              {/* USERLIST_BEGIN */}\n              <UserList users={followers} onFollow={follow} />\n              {/* USERLIST_END */}\n            </Segment>\n          </Grid.Column>\n          <Grid.Column>\n            <Segment>\n              <Header as=\"h2\">\n                <Icon name=\"pencil square\" />\n                <Header.Content>\n                  Transactions\n                  <Header.Subheader>\n                    Make a transaction with a follower\n                  </Header.Subheader>\n                </Header.Content>\n              </Header>\n              <TransactionBox\n                followers={followers.map((follower) => follower.username)}\n              />\n              <Divider />\n              <TransactionList />\n            </Segment>\n          </Grid.Column>\n        </Grid.Row>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default MainView;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react'\nimport { Image, Menu } from 'semantic-ui-react'\nimport MainView from './MainView';\nimport { useParty } from '@daml/react';\n\ntype Props = {\n  onLogout: () => void;\n}\n\n/**\n * React component for the main screen of the `App`.\n */\nconst MainScreen: React.FC<Props> = ({onLogout}) => {\n  return (\n    <>\n      <Menu icon borderless>\n        <Menu.Item>\n          <Image\n            as='a'\n            href='https://www.daml.com/'\n            target='_blank'\n            src='/daml.svg'\n            alt='DAML Logo'\n            size='mini'\n          />\n        </Menu.Item>\n        <Menu.Menu position='right' className='test-select-main-menu'>\n          <Menu.Item position='right'>\n            You are logged in as {useParty()}.\n          </Menu.Item>\n          <Menu.Item\n            position='right'\n            active={false}\n            className='test-select-log-out'\n            onClick={onLogout}\n            icon='log out'\n          />\n        </Menu.Menu>\n      </Menu>\n\n      <MainView/>\n    </>\n  );\n};\n\nexport default MainScreen;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport LoginScreen from './LoginScreen';\nimport MainScreen from './MainScreen';\nimport DamlLedger from '@daml/react';\nimport Credentials from '../Credentials';\nimport { httpBaseUrl } from '../config';\n\n/**\n * React component for the entry point into the application.\n */\n// APP_BEGIN\nconst App: React.FC = () => {\n  const [credentials, setCredentials] = React.useState<Credentials | undefined>();\n\n  return credentials\n    ? <DamlLedger\n        token={credentials.token}\n        party={credentials.party}\n        httpBaseUrl={httpBaseUrl}\n      >\n        <MainScreen onLogout={() => setCredentials(undefined)}/>\n      </DamlLedger>\n    : <LoginScreen onLogin={setCredentials} />\n}\n// APP_END\n\nexport default App;\n","// Copyright (c) 2021 Digital Asset (Switzerland) GmbH and/or its affiliates. All rights reserved.\n// SPDX-License-Identifier: Apache-2.0\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'semantic-ui-css/semantic.min.css';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}